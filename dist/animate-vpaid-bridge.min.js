!function t(e,i,n){function r(a,u){if(!i[a]){if(!e[a]){var o="function"==typeof require&&require;if(!u&&o)return o(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[a]={exports:{}};e[a][0].call(d.exports,function(t){var i=e[a][1][t];return r(i?i:t)},d,d.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){this._destroyed||(a.$removeAll.call(this),s.default.call(this,"AdStopped"))};var r=t("../trigger"),s=n(r),a=t("../toggles")},{"../toggles":4,"../trigger":5}],2:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){return(i-t)/(e-t)}function s(t,e,i,n,s){return i+(n-i)*r(t,e,s)}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(){if(!this._destroyed){var t=this._videoSlot,e=s(0,t.duration,0,100,t.currentTime),i=this._lastQuartilePosition;if(!(e<i.position)){i.hook&&i.hook(),u.default.call(this,i.event);var n=this._quartileEvents;this._lastQuartilePosition=n[n.indexOf(i)+1]}}};var a=t("../trigger"),u=n(a)},{"../trigger":5}],3:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(){this._attributes.skippableState=!0}function a(t){p.default.call(this,"AdError",t)}function u(){var t=this._videoSlot;return t?(o(t,[this._attributes.width,this._attributes.height]),l(t,this._parameters.videos||[])?void 0:a.call(this,"no supported video found")):a.call(this,"no video")}function o(t,e){t.setAttribute("width",e[0]),t.setAttribute("height",e[1]),t.style.width=e[0]+"px",t.style.height=e[1]+"px"}function l(t,e){var i=e.filter(function(e){return t.canPlayType(e.mimetype)});return 0!==i.length&&(t.setAttribute("src",i[0].url),!0)}Object.defineProperty(i,"__esModule",{value:!0});var d=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=t("./util/load-css"),h=n(c),f=t("./trigger"),p=n(f),v=t("./toggles"),_=t("./handler/vast-ended"),b=n(_),y=t("./handler/vast-timeupdate"),g=n(y),m=function(){function t(){r(this,t),this._slot=null,this._videoSlot=null,this._subscribers={},this._attributes={companions:"",desiredBitrate:256,duration:30,remainingTime:-1,expanded:!1,icons:!1,linear:!0,skippableState:!1,viewMode:"normal",width:0,height:0,volume:1},this.previousAttributes=Object.assign({},this._attributes),this._quartileEvents=[{event:"AdVideoStart",position:0},{event:"AdVideoFirstQuartile",position:25},{event:"AdVideoMidpoint",position:50},{event:"AdSkippableStateChange",position:65,hook:s.bind(this)},{event:"AdVideoThirdQuartile",position:75},{event:"AdVideoComplete",position:100}],this._lastQuartilePosition=this._quartileEvents[0],this._parameters={}}return d(t,[{key:"set",value:function(t,e){this.previousAttributes[t]=this._attributes[t],this._attributes[t]=e}},{key:"handshakeVersion",value:function(t){return"2.0"}},{key:"initAd",value:function(t,e,i,n,r,s){this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=i,this._attributes.desiredBitrate=n,this._slot=s.slot,this._videoSlot=s.videoSlot,this._style=(0,h.default)("ad.css"),u.call(this),this._videoSlot.addEventListener("timeupdate",g.default.bind(this),!1),this._videoSlot.addEventListener("ended",b.default.bind(this),!1),p.default.call(this,"AdLoaded")}},{key:"startAd",value:function(){this._videoSlot.play(),this._ui={},p.default.call(this,"AdStarted")}},{key:"stopAd",value:function(){this._destroyed||(v.$removeAll.call(this),p.default.call(this,"AdStopped"))}},{key:"skipAd",value:function(){this._destroyed||this._attributes.skippableState&&(v.$removeAll.call(this),p.default.call(this,"AdSkipped"),p.default.call(this,"AdStopped"))}},{key:"resizeAd",value:function(t,e,i){this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=i,p.default.call(this,"AdSizeChange")}},{key:"pauseAd",value:function(){this._videoSlot.pause(),p.default.call(this,"AdPaused")}},{key:"resumeAd",value:function(){this._videoSlot.play(),p.default.call(this,"AdPlaying")}},{key:"expandAd",value:function(){this.set("expanded",!0),p.default.call(this,"AdExpandedChange")}},{key:"collapseAd",value:function(){this.set("expanded",!1),p.default.call(this,"AdExpandedChange")}},{key:"subscribe",value:function(t,e,i){this._subscribers[e]||(this._subscribers[e]=[]),this._subscribers[e].push({callback:t,context:i})}},{key:"unsubscribe",value:function(t,e){var i=this._subscribers[e];Array.isArray(i)&&(this._subscribers[e]=i.filter(function(e){return t!==e}))}},{key:"getAdLinear",value:function(){return this._attributes.linear}},{key:"getAdWidth",value:function(){return this._attributes.width}},{key:"getAdHeight",value:function(){return this._attributes.height}},{key:"getAdExpanded",value:function(){return this._attributes.expanded}},{key:"getAdSkippableState",value:function(){return this._attributes.skippableState}},{key:"getAdRemainingTime",value:function(){return this._attributes.remainingTime}},{key:"getAdDuration",value:function(){return this._attributes.duration}},{key:"getAdVolume",value:function(){return this._attributes.volume}},{key:"getAdCompanions",value:function(){return this._attributes.companions}},{key:"getAdIcons",value:function(){return this._attributes.icons}},{key:"setAdVolume",value:function(t){if(this.previousAttributes.volume!==t){if(t<0||t>1)return a("volume is not valid");this.set("volume",t),this._videoSlot.volume=t,p.default.call(this,"AdVolumeChange")}}}]),t}();i.default=m},{"./handler/vast-ended":1,"./handler/vast-timeupdate":2,"./toggles":4,"./trigger":5,"./util/load-css":6}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){a.call(this,t),s.call(this,t),this._attributes.expandAd=t,this._attributes.remainingTime=t?-2:-1,l.default.call(this,"AdExpandedChange"),l.default.call(this,"AdDurationChange")}function s(t){t?this._videoSlot.pause():this._videoSlot.play()}function a(t){function e(){return t?"block":"none"}this._ui.interact.style.display=e(),this._ui.xBtn.style.display=e()}function u(){this._destroyed=!0,this._videoSlot.src="",this._style.parentElement.removeChild(this._style),this._slot.innerHTML="",this._ui=null}Object.defineProperty(i,"__esModule",{value:!0}),i.$toggleExpand=r,i.$togglePlay=s,i.$toggleUI=a,i.$removeAll=u;var o=t("./trigger"),l=n(o)},{"./trigger":5}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){var i=this._subscribers[t]||[];i.forEach(function(t){t.callback.apply(t.context,e)})}},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t){var e=document.createElement("link");return e.rel="stylesheet",e.href=t,parent.document.body.appendChild(e),e}},{}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(i,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=t("vpaid-ad/src/linear"),l=n(o),d=t("./util/createScript"),c=n(d),h=t("vpaid-ad/src/trigger"),f=n(h),p=function(t){function e(t){r(this,e);var i=s(this,Object.getPrototypeOf(e).call(this,t));return i.bridgeId=t.bridgeId,i.createjsUri=t.createjsUri,i.animateJs=t.animateJs,i.mediaFiles=t.mediaFiles||[],i}return a(e,t),u(e,[{key:"initAd",value:function(t,e,i,n,r,s){var a=this;this._attributes.width=t,this._attributes.height=e,this._attributes.viewMode=i,this._attributes.desiredBitrate=n,this._slot=s.slot,this._videoSlot=s.videoSlot,this.renderSlot_(function(){var t=document.getElementById("canvas"),e=new lib[a.bridgeId],i=new createjs.Stage(t);i.addChild(e),i.update(),createjs.Ticker.setFPS(lib.properties.fps),createjs.Ticker.addEventListener("tick",i);var n=a.mediaFiles.filter(function(t){return a._videoSlot.canPlayType(t.type)});a._videoSlot.setAttribute("src",n[0].src),f.default.call(a,"AdLoaded")})}}]),e}(l.default);i.default=p,p.prototype.renderSlot_=function(t){var e=this,i=this._slot&&"DIV"===this._slot.tagName,n=(0,c.default)(this.createjsUri,function(){i||(e._slot=document.createElement("div"),document.body||(document.body=document.createElement("body")),document.body.appendChild(e._slot)),e._slot.innerHTML='\n      <canvas id="canvas" width="550" height="400" style="background-color:#FFFFFF"></canvas>\n    ';var n=(0,c.default)(e.animateJs,function(){t()});document.body.appendChild(n)});document.body.appendChild(n)}},{"./util/createScript":8,"vpaid-ad/src/linear":3,"vpaid-ad/src/trigger":5}],8:[function(t,e,i){"use strict";function n(t,e){var i=document.createElement("script");return i.src=t,i.type="text/javascript",i.onload=e,i}Object.defineProperty(i,"__esModule",{value:!0}),i.default=n},{}]},{},[7]);